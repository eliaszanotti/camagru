<%- include('includes/head', { title: 'Register' }) %>
<main class="grid place-items-center min-h-screen py-10">
	<section
		class="grid gap-10 max-w-xl w-full bg-base-200 border border-base-300 rounded-box p-10"
	>
		<form action="/auth/register" method="POST" class="grid gap-8">
			<h1 class="text-4xl">Create an account</h1>

			<fieldset class="fieldset">
				<legend class="fieldset-legend">Email</legend>
				<label class="input validator w-full">
					<%- include('icons/email') %>
					<input
						required
						type="email"
						name="email"
						placeholder="mail@site.com"
					/>
				</label>
				<div class="validator-hint hidden">
					<p>Enter valid email address</p>
				</div>
				<% if (typeof id !== 'undefined' && id === 'email') { %>
				<p class="fieldset-label text-error"><%= message %></p>
				<% } %>
			</fieldset>

			<fieldset class="fieldset">
				<legend class="fieldset-legend">Username</legend>
				<label class="input validator w-full">
					<%- include('icons/user') %>
					<input
						required
						type="text"
						name="username"
						placeholder="username69"
						minlength="4"
						maxlength="16"
						pattern="^[a-zA-Z0-9]+$|^(?!.*\s).*$"
					/>
				</label>
				<div class="validator-hint hidden">
					<p>Must contain only letters, numbers, and hyphens</p>
					<p>Must be between 4 and 16 characters</p>
				</div>
				<% if (typeof id !== 'undefined' && id === 'username') { %>
				<p class="fieldset-label text-error"><%= message %></p>
				<% } %>
			</fieldset>

			<%- include('includes/forms/passwordField', { name: 'password' }) %>
			<% if (typeof id !== 'undefined' && id === 'global') { %>
			<p class="text-error text-xs"><%= message %></p>
			<% } %>

			<div class="w-full flex justify-end items-center gap-2">
				<a
					href="/auth/login"
					class="btn btn-primary btn-link btn-sm text-base-content"
				>
					Already have an account?
				</a>
				<button type="submit" class="btn btn-primary">
					Create an account
				</button>
			</div>
		</form>
	</section>
</main>
<%- include('includes/foot') %>
