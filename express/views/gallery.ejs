<%- include("includes/head", { title: "Webcam capture" }) %>
<main class="flex flex-col items-center min-h-screen py-10">
	<section
		id="posts"
		class="grid lg:grid-cols-3 md:grid-cols-2 grid-cols-1 max-w-6xl w-full rounded-box gap-6 p-6"
	>
		<% posts.forEach((post) => { %>
		<div
			class="flex flex-col bg-base-200 border border-base-300 gap-4 p-4 rounded-box"
			data-post-id="<%= post._id %>"
		>
			<div class="flex gap-2 items-center justify-between">
				<!-- TODO mettre dans des include les truc quon partage avec postSingle -->
				<p class="text-sm text-gray-500">
					<!-- prettier-ignore -->
					<%=
						new Date(post.createdAt).toLocaleDateString("en-US", {
							year: "numeric",
							month: "long",
							day: "numeric",
							hour: "numeric",
							minute: "numeric",
							hour12: false,
						})
					%>
				</p>
				<% if (post.isPublished) { %>
				<badge class="badge badge-sm badge-success">PUBLISHED</badge>
				<% } else { %>
				<badge class="badge badge-sm badge-warning"
					>NOT PUBLISHED</badge
				>
				<% } %>
			</div>
			<div class="relative rounded-field overflow-hidden">
				<img
					src="<%= post.imageUrl %>"
					alt="Post Image"
					class="w-full aspect-square object-cover select-none"
				/>
			</div>
		</div>
		<% }) %>
	</section>
</main>
<%- include("includes/footer") %>
