<%- include('includes/head', { title: 'Change username' }) %>
<main class="grid place-items-center min-h-screen py-10">
	<section
		class="grid gap-10 max-w-xl w-full bg-base-200 border border-base-300 rounded-box p-10"
	>
		<form action="/auth/change-username" method="POST" class="grid gap-8">
			<h1 class="text-4xl">Change username</h1>

			<fieldset class="fieldset">
				<legend class="fieldset-legend">New username</legend>
				<label class="input validator w-full">
					<%- include('icons/user') %>
					<input
						required
						type="text"
						name="username"
						placeholder="username69"
						minlength="4"
						maxlength="16"
						pattern="^[a-zA-Z0-9]+$|^(?!.*\s).*$"
					/>
				</label>
				<div class="validator-hint hidden">
					<p>Must contain only letters, numbers, and hyphens</p>
					<p>Must be between 4 and 16 characters</p>
				</div>
				<% if (typeof id !== 'undefined' && id === 'username') { %>
				<p class="fieldset-label text-error"><%= message %></p>
				<% } %>
			</fieldset>

			<fieldset class="fieldset">
				<legend class="fieldset-legend">Password</legend>
				<label class="input validator w-full">
					<%- include('icons/password') %>
					<input
						required
						type="password"
						name="password"
						placeholder="Password"
					/>
				</label>
			</fieldset>

			<% if (typeof id !== 'undefined' && id === 'global') { %>
			<p class="text-error text-xs"><%= message %></p>
			<% } %>

			<div class="w-full grid justify-items-end">
				<button type="submit" class="btn btn-primary">Change username</button>
			</div>
		</form>
	</section>
</main>
<%- include('includes/foot') %>
